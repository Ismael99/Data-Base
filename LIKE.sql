CREATE DATABASE dblike2;
USE dblike2;

CREATE TABLE estados(
estados_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
estados_estado VARCHAR(50) NOT NULL,
PRIMARY KEY(estados_id)
);

INSERT INTO estados
VALUES (0, 'ACTIVO'), (0, 'INACTIVO'), (0, 'VENCIDO'), (0, 'EN DEVOLUCION');

SELECT * FROM estados;


#DESAFIO...
CREATE TABLE impuestos(
impuestos_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
impuestos_impuesto VARCHAR(50) UNIQUE NOT NULL,
impuestos_porcentaje DECIMAL(4, 2) NOT NULL,
estados_id INT UNSIGNED NOT NULL, 
PRIMARY KEY(impuestos_id),
CONSTRAINT FK_IMP_EST FOREIGN KEY(estados_id) REFERENCES estados(estados_id) ON UPDATE CASCADE
);

INSERT INTO impuestos
VALUES
(0,'IVA',13.00,1),
(0,'CESC',5.00,1),
(0,'Impuesto a la sucursales en El Salvador',30.00,1),
(0,'Impuesto de sociedades',25.00,1);

CREATE TABLE laboratorios (
laboratorios_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
laboratorios_laboratorio VARCHAR(100) UNIQUE NOT NULL,
estados_id INT UNSIGNED NOT NULL,
PRIMARY KEY(laboratorios_id),
CONSTRAINT FK_LAB_EST FOREIGN KEY(estados_id) REFERENCES estados(estados_id) ON UPDATE CASCADE
);

INSERT INTO laboratorios
VALUES (0, 'MK', 1), (0, 'LOPEZ', 1), (0, 'SAIMED', 1), (0, 'BAYER', 1), (0, 'SUIZOS', 1);


CREATE TABLE medicamentos(
medicamentos_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
medicamentos_codigo VARCHAR(20) UNIQUE NOT NULL,
medicamentos_producto VARCHAR(100) UNIQUE NOT NULL,
estados_id INT UNSIGNED NOT NULL,
medicamentos_controlado BOOL NOT NULL,
laboratorios_id INT UNSIGNED NOT NULL,
impuestos_id INT UNSIGNED NOT NULL,
PRIMARY KEY(medicamentos_id),
CONSTRAINT FK_MED_EST FOREIGN KEY(estados_id) REFERENCES estados(estados_id) ON UPDATE CASCADE,
CONSTRAINT FK_MED_LAB FOREIGN KEY(laboratorios_id) REFERENCES laboratorios(laboratorios_id) ON UPDATE CASCADE,
CONSTRAINT FK_MED_IMP FOREIGN KEY(impuestos_id) REFERENCES impuestos(impuestos_id) ON UPDATE CASCADE
);


INSERT INTO medicamentos VALUES
(0,'9001002002024','3M DURAPORE 3 PULG X 10 YD',1,true, 1, 1),
(0,'9001002002001','3M MICROPORE 1530-0 0.5 PULG X 10 YD',1,true, 2, 1),
(0,'9001002002002','3M MICROPORE 1530-1 1 PULG X 10 YD',1,true, 3, 2),
(0,'9001002002003','3M MICROPORE 1530-3 3 PULG X 10 YD',1,true, 4, 1),
(0,'9001002002025','3M MICROPROPRE 2 PULG X 10 YD',1,true, 5, 1),
(0,'4104480705137','ABRILAR JARABE SIN ALCOHOL 100 ML',1,true, 1, 1),
(0,'9001002003005','ACEITE ALCANFORADO 60 ML',1,true, 2, 1),
(0,'604226600008','ACEITE DE OLIVA LATA X 175ML ',1,true, 3, 1),
(0,'20964111031','ACEITE DE OLIVA X 250 ML ',1,true, 4, 1),
(0,'9001002003002','ACEITE RICINO 60 ML',1,true, 5, 2),
(0,'9001002003018','ACEITE ROSADO BOTE 250 ML',1,true, 1, 1),
(0,'7453001303008','ACERTAR 750 MG CAPLETAS RANURADAS ',1,true, 2, 1),
(0,'7415100300029','ACETAMINOFEN 500MG S&M TABLETAS',1,true, 3, 1),
(0,'7410000702706','ACETAMINOFEN FD 120MG/5ML JARABE X 120ML',1,true, 4, 1),
(0,'7415100301378','ACETAMINOFEN JARABE X 120 ML FRESA',1,true, 5, 2),
(0,'74101931','ACETAMINOFEN MK 100 MG/ML GOTAS 30 ML PEDIATRICO',1,true, 1, 1),
(0,'74101726','ACETAMINOFEN MK 120MG/5ML JARABE FRESA 60 ML',1,true, 2, 1),
(0,'7410002800028','ACETAMINOFEN MK 500 MG TABLETAS',1,true, 3, 2),
(0,'9001002006001','ACETONA GALON',1,true, 4, 1),
(0,'765446110248','ACICLOVIR ACICLOVIR-D-PANTENOL GEL 15 GR',1,true, 1, 1),
(0,'7415100301576','ACICLOVIR CREMA 5 GR SYM',1,true, 5, 1),
(0,'765446470953','ACICLOVIRAX ACICLOVIR 200 MG CAPSULAS',1,true, 2, 1),
(0,'7419900372576','ACICLOVIRAX ACICLOVIR 400 MG CAPSULAS',1,true, 3, 1),
(0,'7702605100088','ACIDO FUSIDICO CREMA AL 2% X 15 GR',1,true, 2, 1),
(0,'7795345010601','ACI-TIP 800MG/10 ML SUSPENSIÓN X 200 ML',1,true, 4, 1),
(0,'7410091665393','ACNEBON 90 GR',1,true, 1, 1),
(0,'7410060200198','ACRIMIN DEFENSA JARABE 120 ML NARANJA',1,true, 5, 1),
(0,'5000223449919','ACTICOAT 7 PARCHE 10X12.5 CM',1,true, 3, 1),
(0,'7406158863703','ADALAT OROS X 30MG COMPRIMIDOS LIB OSMOT',1,true, 3, 1),
(0,'7406048002304','ADENURIC FEBUXOSTAT 80 MG 28 COMPRIMIDOS',1,true, 4, 1),
(0,'7401036100673','ADEROGYL ADULTOS SOL ORAL 3ML X 1 AMP',1,true, 2, 1),
(0,'7401036100345','ADEROGYL PEDIATRIC AMP X 1 ML',1,true, 5, 1),
(0,'19006516019','ADIABET 5 MG 30 TABS RECUBIERTAS',1,true, 1, 1),
(0,'7451107020065','ADORLAN TB ',1,true, 1, 1),
(0,'7501050625371','AERIUS 5MG  15 TABS',1,true, 2, 1),
(0,'7501050607827','AERIUS JARABE 0.5MG/ML 120 ML',1,true, 2, 1),
(0,'7401000601224','AERIUS JARABE 0.5MG/ML 60 ML',1,true, 4, 1),
(0,'7751384129780','AERO-OM 100MG/ML SUSP GOTAS X 15ML FRESA',1,true, 2, 1),
(0,'7751384129797','AERO-OM 100MG/ML SUSP GOTAS X 60ML FRESA',1,true, 4, 1),
(0,'7751384155567','AERO-OM 40 MG COMP MASTICABLES',1,true, 5, 1),
(0,'7751384000096','AERO-OM FORTE 20 COMP MASTICABLES ANIS',1,true, 2, 1),
(0,'7410000101264','AEROXANO PLUS SUSPENSION ORAL FRASCO 240ML',1,true, 3, 1),
(0,'7410000101240','AEROXANO PLUS TABLETAS MASTICABLES ',1,true, 2, 2),
(0,'11418274754','AFRIN ADULTO 0.5MG/ML SPRAY NASAL 15 ML',1,true, 4, 1),
(0,'11418274594','AFRIN INFANTIL 0.25MG/ML SOL GOTAS NASALES CEREZA 15 ML',1,true, 2, 1),
(0,'11418273511','AFRIN LUB FRASCO X 20 ML',1,true, 3, 1),
(0,'7501314705542','AFUMIX 4 TABS',1,true, 2, 1),
(0,'9001002003017','AGUA DE MENTA BOTE 250 ML',1,true, 5, 1),
(0,'9001002003030','AGUA FLORIDA BOTE 750 ML',1,true, 3, 1),
(0,'7415100300951','AGUA OXIGENADA 120ML SYM ',1,true, 3, 1),
(0,'7410061200562','AGUA OXIGENADA 20 VOL FERSON BOTE 120 ML',1,true, 4, 1),
(0,'9001002003024','AGUA OXIGENADA BOTE 120 ML',1,true, 5, 1),
(0,'4968420500974','AGUJA HIPODERMICA 18G X 1 1/2',1,true, 5, 1),
(0,'4968420501032','AGUJA HIPODERMICA 21G X 1 1/2',1,true, 2, 1),
(0,'4968420501056','AGUJA HIPODERMICA 22G X 1 1/2',1,true, 3, 1),
(0,'4968420501063','AGUJA HIPODERMICA 23G X 1 1/2',1,true, 2, 1),
(0,'4046222601157','AKATINOL 10 MG 56 COMP RECUBIERTOS',1,true, 5, 1),
(0,'4046222601089','AKATINOL 20 MG 28 COMP RECUBIERTOS',1,true, 4, 1),
(0,'7410031590006','AKTRACIN 0.3% SOLUCION OFTALMICA 5 ML',1,true, 4, 1),
(0,'7410003426340','ALAMO 16 MG 30 TABLETAS',1,true, 4, 1),
(0,'7410003426357','ALAMO 32 MG 30 TABLETAS',1,true, 4, 1),
(0,'74101795','ALBENDAZOLE MK 400MG/10 ML 10ML CARAMELO ',1,true, 2, 1),
(0,'7703153012540','ALBISEC   12 CAPSULAS ',1,true, 2, 1),
(0,'7703153028695','ALBISEC ONE 6 GELTABS ',1,true, 3, 1),
(0,'7501092708032','ALBOTHYL OVULOS 90G 6 OVULOS',1,true, 4, 1),
(0,'7501092720461','ALBOTHYL V 1GR/100 ML SOL 200ML  + CANULA VAGINAL',1,true, 4, 1),
(0,'709708000724','ALBUGENOL 5MG/ML X 10ML SOL NEBULIZACION',1,true, 3, 1),
(0,'709708000069','ALBUGENOL 5MG/ML X 20ML SOL NEBULIZACION',1,true, 5, 1),
(0,'7410007700120','ALCO DOC 90 BOTE 120 ML',1,true, 2, 1),
(0,'741007700240','ALCO DOC 90 BOTE 240 ML',1,true, 3, 1),
(0,'115538','ALCOHOL 90 MEDICADO 120 ML',1,true, 3, 1),
(0,'9001002003019','ALCOHOL ARTRITICO BM MEDICADO',1,true, 1, 1),
(0,'9001002003023','ALCOHOL MEDICADO BOTE 750 ML',1,true, 4, 1),
(0,'7411002165629','ALCOHOL SUIZO MENTOL Y EUCALIPTO X 460 ML',1,true, 5, 1),
(0,'7501049713454','ALDACTONE 100MG 30 TABLETAS ',1,true, 2, 1),
(0,'7501049703950','ALDACTONE A 25 MG 30 TABLETAS ',1,true, 3, 1),
(0,'891671002017','ALDARA CREMA 5% 3 SOBRES',1,true, 2, 1),
(0,'7702605104314','ALENDRONATO 70MG VIAL X 4 TABLETAS',1,true, 5, 1),
(0,'7703153001742','ALERCET 10MG 10 CAPSULAS BLANDAS',1,true, 4, 1),
(0,'7703153023850','ALERCET-D 5MG/15MG 10 CAPSULAS ',1,true, 3, 1),
(0,'769041003639','ALERDES SOLUCION OFTALMICA X 15 ML',1,true, 2, 1),
(0,'769041009792','ALERFIN 4 MG COMP',1,true, 2, 1),
(0,'769041005015','ALERFIN CREMA 12G',1,true, 1, 1),
(0,'7410031490023','ALERKEM 5MG JARABE 100ML',1,true, 5, 1),
(0,'8436030160070','ALERNO EBASTINA 20 MG 10 COMPRIMIDOS',1,true, 4, 1),
(0,'769041200052','ALERTIN SOLUCION OFTALMICA X 15 ML',1,true, 3, 1),
(0,'11418210295','ALEVE EXTRA FUERTE TAB',1,true, 2, 1),
(0,'11418210714','ALEVE LIQUID-GEL CAPS',1,true, 3, 1),
(0,'7501092720355','ALEVIAN DUO 100MG/300MG 16 CAPS',1,true, 2, 1),
(0,'7703454121392','ALGILASA ANTIACIDO CEREZA SUSP X 360 ML',1,true, 3, 1),
(0,'5000223425104','ALGISITE M PARCHE 10X10 CM ',1,true, 4, 1),
(0,'7415800230558','ALGODÓN 1/2 LIBRA MIGASA',1,true, 5, 1),
(0,'7415800230404','ALGODÓN LIBRA MIGASA',1,true, 2, 1),
(0,'7415800230510','ALGODÓN PLISADO  50 GR MIGASA',1,true, 1, 1),
(0,'755361010067','ALGODÓN PLISADO SUPERIOR 100 GR',1,true, 3, 1),
(0,'7410000400015','ALGODÓN PRO-MEDICI 1 LIBRA',1,true, 4, 1),
(0,'7410000400053','ALGODÓN PRO-MEDICI 25 GR',1,true, 1, 1),
(0,'76460012016','ALICOL D JARABE 120 ML',1,true, 2, 1),
(0,'114182440780','ALKA-AD 2 MG TABLETAS',1,true, 4, 1),
(0,'11418215092','ALKA-GASTRIC TABLETAS MASTICABLES',1,true, 4, 1),
(0,'11418386891','ALKA-SELTZER RAPIDO ALIVIO TABS EFERVESCENTES',1,true, 5, 1),
(0,'7591044008952','ALLEGRA 120 MG X 10 TABS RECUBIERTAS',1,true, 4, 1),
(0,'7591044009010','ALLEGRA 180MG X 10 TABS RECUBIERTAS',1,true, 3, 1),
(0,'7501165007062','ALLEGRA F 60MG/25MG  X 10 COMP RECUBIERTOS',1,true, 2, 1),
(0,'7795312100090','ALLEGRA PEDIATRICO 30MG/5ML SUSP X 150 ML',1,true, 3, 1),
(0,'5000223415594','ALLEVYN ADHESIVE 17.5X17.5 CM',1,true, 5, 1),
(0,'8435232302783','ALOPURINOL NORMON 300MG 30 COMPRIMIDOS VIA ORAL ',1,true, 2, 1);

select * from medicamentos;


SELECT * FROM medicamentos WHERE medicamentos_producto LIKE '%YD';

SELECT * FROM medicamentos WHERE medicamentos_producto LIKE '%CM';

SELECT * FROM medicamentos WHERE medicamentos_producto LIKE '%ML';

SELECT medicamentos_producto PRODUCTO, laboratorios_laboratorio LABORATORIO
FROM medicamentos M JOIN laboratorios L USING(laboratorios_id) 
WHERE laboratorios_laboratorio LIKE 'S%';

SELECT * FROM medicamentos WHERE medicamentos_producto LIKE '______HI%';

SELECT * FROM laboratorios WHERE laboratorios_laboratorio LIKE '%E_';

